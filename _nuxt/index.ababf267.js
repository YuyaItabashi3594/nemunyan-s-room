import{f as x,r as h,q as C,c as s,l as q,o as i,b as o,w as v,a as r,i as c,t as k,F as w,m as y,s as T,g as L,v as B}from"./entry.33823459.js";import{_ as N}from"./nuxt-link.091ce873.js";import O from"./ContentList.1e216f73.js";import{_ as S}from"./ContentSidebar.37b368ff.js";import"./ContentQuery.5a16928c.js";import"./query.0e660edf.js";import"./preview.14b77ab7.js";import"./utils.6ead7233.js";const j=x({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(b,{slots:t,attrs:u}){const a=h(!1);return C(()=>{a.value=!0}),e=>{var _;if(a.value)return(_=t.default)==null?void 0:_.call(t);const n=t.fallback||t.placeholder;if(n)return n();const l=e.fallback||e.placeholder||"",p=e.fallbackTag||e.placeholderTag||"span";return s(p,u,l)}}}),F={class:"ml-10 mb-4"},P={class:"border relative hover:bg-slate-600"},V=["src"],A={class:"text-3xl p-2"},D={class:"ml-1"},E=r("br",null,null,-1),M={class:"ml-1"},R={__name:"List",props:{page:{type:Object,required:!0}},setup(b){const t=b,u=t.page._path,a=t.page.title,e=t.page.date.substr(0,10),n=t.page.tags,l=t.page.img;return(p,_)=>{const m=q("font-awesome-icon"),d=j,g=N;return i(),s("div",F,[o(g,{to:c(u)},{default:v(()=>[r("div",P,[r("img",{class:"absolute top-2 right-2 object-scale-down h-20 w-auto",src:c(l)},null,8,V),r("p",A,k(c(a)),1),o(d,null,{default:v(()=>[o(m,{class:"ml-2",icon:["fas","calendar-days"]})]),_:1}),r("span",D,k(c(e)),1),E,o(d,null,{default:v(()=>[o(m,{class:"ml-2",icon:["fas","tags"]})]),_:1}),(i(!0),s(w,null,y(c(n),$=>(i(),s("span",M,k($),1))),256))])]),_:1},8,["to"])])}}},z=R,G={class:"flex"},H={class:"mt-4 text w-2/3 grid grid-cols-2 gap-4"},f=100,Z=x({__name:"index",setup(b){const t=h(1),u=T(),a=L(()=>{const n=h(u.query.tags);return n.value?n.value:null}),e=h({path:"/blog",limit:f,skip:t.value-1,sort:[{date:-1}]});return a.value!=null&&(e.value={path:"/blog",where:[{tags:{$in:a.value}}],limit:f,skip:t.value-1,sort:[{date:-1}]}),B(()=>a.value,(n,l)=>{n!=l&&(a.value!=null?e.value={path:"/blog",where:[{tags:{$in:a.value}}],limit:f,skip:t.value-1,sort:[{date:-1}]}:e.value={path:"/blog",limit:f,skip:t.value-1,sort:[{date:-1}]})}),(n,l)=>{const p=z,_=O,m=S;return i(),s("div",G,[r("div",H,[o(_,{query:c(e)},{default:v(({list:d})=>[(i(!0),s(w,null,y(d,g=>(i(),s("article",{key:g._path},[o(p,{page:g},null,8,["page"])]))),128))]),_:1},8,["query"])]),o(m,{currentpage:"blog"})])}}});export{Z as default};
